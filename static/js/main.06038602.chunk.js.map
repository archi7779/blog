{"version":3,"sources":["actions/index.js","reducers/rootReducer.js","components/Login.jsx","components/Registration.jsx","components/styledComponents.js","components/functions/cookieFunc.js","components/Article.jsx","components/MainPage.jsx","components/CreateNewArticle.jsx","components/OpenedArticle.jsx","components/Nav.jsx","App.jsx","index.jsx"],"names":["logOut","createAction","userInfoFromServer","netErrorToState","setPage","loginStateRequest","loginStateSuccess","loginStateFailure","registrationStateRequest","registrationStateSuccess","registrationStateFailure","getArticlesFromServer","updateLikeStatus","likePost","slug","token","currentLikeStatus","dispatch","a","async","config","headers","Authorization","axios","post","response","article","data","console","log","status","alert","delete","loginState","handleActions","actions","registrationState","user","state","payload","articles","articlesToStore","newState","map","page","netError","errors","combineReducers","actionCreators","doLogin","document","cookie","validationSchema","yup","email","required","password","Login","props","this","login","validateOnChange","initialValues","onSubmit","setSubmitting","className","name","type","as","Input","placeholder","disabled","Object","entries","length","htmlType","React","Component","connect","doRegistration","username","max","Registration","registrationStatus","item","ArticleWrapper","styled","div","StyledCard","img","Card","getCookie","matches","match","RegExp","replace","decodeURIComponent","undefined","deleteCookie","value","options","path","updatedCookie","encodeURIComponent","optionKey","optionValue","setCookie","handleLike","Article","handleClick","event","stopPropagation","title","author","createdAt","favorited","favoritesCount","tagList","body","formedDate","formatDistanceToNow","Date","includeSeconds","addSuffix","size","extra","src","image","alt","onClick","htmlFor","theme","key","uniqueId","defaultProps","getArticles","offset","params","url","get","cookieLogin","authToken","MainPage","handleLogOut","hanglePrevClick","hangleNextClick","history","push","pathname","withRouter","MyInput","useField","field","meta","error","touched","ValidationSchema","Yup","shape","min","description","CreateNewArticle","location","compact","sendDataToServer","values","isSubmitting","arrayHelpers","slice","index","OpenedArticle","numOFArticleInState","findIndex","handleEditClick","authorName","currentUser","Nav","to","basename","exact","keys","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"oVAGaA,EAASC,YAAa,WAEtBC,EAAqBD,YAAa,yBAElCE,EAAkBF,YAAa,oBAE/BG,EAAUH,YAAa,oBAEvBI,EAAoBJ,YAAa,kBACjCK,EAAoBL,YAAa,kBACjCM,EAAoBN,YAAa,kBAgCjCO,EAA2BP,YAAa,2BACxCQ,EAA2BR,YAAa,wBACxCS,EAA2BT,YAAa,wBAgBxCU,GADcV,YAAa,4BACHA,YAAa,6BAqCrCW,EAAmBX,YAAa,2BAChCY,EAAW,SAACC,EAAMC,EAAOC,GAAd,OAAoC,SAAMC,GAAN,uBAAAC,EAAAC,OAAA,mDACpDC,EAAS,CACbC,QAAS,CAAEC,cAAc,SAAD,OAAWP,KAGhCC,EALqD,4CAAAE,EAAA,MAO/BK,IAAMC,KAAN,0DAC8BV,EAD9B,aAErB,GACAM,IAVoD,OAOhDK,EAPgD,OAYhDC,EAAUD,EAASE,KACzBV,EAASL,EAAiBc,IAb4B,kDAgBtDE,QAAQC,IAAR,MACI,KAAMJ,SAASK,QAEjBC,MAAM,yBAnB8C,6DAAAb,EAAA,MAwB/BK,IAAMS,OAAN,0DAC8BlB,EAD9B,aAErBM,IA1BoD,QAwBhDK,EAxBgD,OA4BhDC,EAAUD,EAASE,KACzBV,EAASL,EAAiBc,IA7B4B,mDAgCtDE,QAAQC,IAAR,MACI,KAAMJ,SAASK,QAEjBC,MAAM,yBAnC8C,mEChGtDE,EAAaC,aAAa,mBAE3BC,GAF2B,WAG1B,MAAO,eAHmB,cAK3BA,GAL2B,WAM1B,MAAO,YANmB,cAQ3BA,GAR2B,WAS1B,MAAO,cATmB,GAY9B,QAGIC,EAAoBF,aAAa,mBAElCC,GAFkC,WAGjC,MAAO,eAH0B,cAKlCA,GALkC,WAMjC,MAAO,YAN0B,cAQlCA,GARkC,WASjC,MAAO,cAT0B,GAYrC,QAGIE,EAAOH,aAAa,mBAErBC,GAFqB,SAEOG,EAFP,GAE4B,IAAZC,EAAW,EAAXA,QACpC,OAAO,eACFA,EAAQF,SAJO,cAOrBF,GAPqB,WAQpB,MAAO,MARa,GAWxB,IAGIK,EAAWN,aAAa,mBAEzBC,GAFyB,SAEMG,EAFN,GAEqC,IAEvDG,EAFsD,EAArBF,QAAWZ,KAErBa,SAC7B,OAAO,YAAIC,MALa,cAOzBN,GAPyB,SAOCG,EAPD,GAOmC,IAAdZ,EAAa,EAAxBa,QAAWb,QAEvCgB,EAAWJ,EAAMK,KAAI,SAAAnB,GACzB,OAAOA,EAAKV,OAASY,EAAQZ,KAAOY,EAAUF,KAGhD,OAAO,YAAIkB,MAba,GAgB5B,IAGIE,EAAOV,YAAc,eAEtBC,GAFqB,SAEJG,EAFI,GAGpB,OADoC,EAAXC,SACP,KAGtB,GAGIM,EAAWX,YAAc,eAE1BC,GAFyB,SAEAG,EAFA,GAE+B,IAAXX,EAAU,EAArBY,QAAWZ,KAC5C,OAAO,eACFA,EAAKmB,WAId,IAGaC,cAAgB,CAC7BV,OACAJ,aACAG,oBACAS,WACAL,WACAI,S,2FC7EII,GAAiB,CACrBC,QFJuC,SAAAZ,GAAI,OAAI,SAAMpB,GAAN,eAAAC,EAAAC,OAAA,uDAC/CF,EAASZ,KADsC,oBAAAa,EAAA,MAGtBK,IAAMC,KAAK,qDAAsD,CACtFa,UAJ2C,OAGvCZ,EAHuC,OAM7CR,EAASX,KACTW,EAASf,EAAmBuB,EAASE,OACrCuB,SAASC,OAAT,oBAA+B1B,EAASE,KAAKU,KAAKtB,MAAlD,oCAR6C,kDAU7CE,EAASd,EAAgB,KAAMsB,WAC/BR,EAASV,KAXoC,4DEO3C6C,GAAmBC,UAAW,CAClCC,MAAOD,YAEJC,QACAC,SAAS,2BACZC,SAAUH,YAAaE,SAAS,gCAG5BE,G,YACJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KACDpB,MAAQ,GAFI,E,sEAKT,IAAD,EAC8BqB,KAAKD,MAAlCE,EADD,EACCA,MAAOf,EADR,EACQA,SAAUI,EADlB,EACkBA,QACzB,OACE,kBAAC,IAAD,CACEY,kBAAgB,EAChBC,cAAe,CACbN,SAAU,GACVF,MAAO,IAETF,iBAAkBA,GAClBW,SAAU,SAACpC,EAAD,GAA8B,IAArBqC,EAAoB,EAApBA,cACjBA,GAAc,GACdf,EAAQtB,GACRqC,GAAc,MAGf,gBAAGlB,EAAH,EAAGA,OAAH,OACC,oCACE,kBAAC,IAAD,CAAMmB,UAAU,aACd,kBAAC,IAAD,CACEC,KAAK,QACLC,KAAK,QACLC,GAAIC,IACJC,YAAY,iBACZC,SAAoB,cAAVX,EACVK,UAAWnB,EAAOQ,OAASkB,OAAOC,QAAQ5B,GAAU6B,OAAS,EAAI,QAAU,KAG5E5B,EAAOQ,OAAS,6BAAMR,EAAOQ,OAC9B,kBAAC,IAAD,CACEY,KAAK,WACLC,KAAK,WACLC,GAAIC,IACJC,YAAY,oBACZC,SAAoB,cAAVX,EACVK,UAAWnB,EAAOU,UAAYgB,OAAOC,QAAQ5B,GAAU6B,OAAS,EAAI,QAAU,KAE/E5B,EAAOU,UAAY,6BAAMV,EAAOU,UAChCgB,OAAOC,QAAQ5B,GAAU6B,OAAS,GAAK,4DACxC,kBAAC,IAAD,CACEP,KAAK,UACLQ,SAAS,SACTJ,SAAoB,cAAVX,EACVK,UAAU,UAJZ,mB,GA7CMW,IAAMC,WAkEXC,gBAvFS,SAAAxC,GAMtB,MALc,CACZD,KAAMC,EAAMD,KACZuB,MAAOtB,EAAML,WACbY,SAAUP,EAAMO,YAmFoBG,GAAzB8B,CAAyCrB,IC9ElDT,GAAiB,CACrB+B,eH8BiC,SAAA1C,GAAI,OAAI,SAAMpB,GAAN,eAAAC,EAAAC,OAAA,uDACzCF,EAAST,KADgC,oBAAAU,EAAA,MAGhBK,IAAMC,KAAK,gDAAiD,CAAEa,UAH9C,OAGjCZ,EAHiC,OAIvCR,EAASR,KACTQ,EAASf,EAAmBuB,EAASE,OACrCuB,SAASC,OAAT,oBAA+B1B,EAASE,KAAKU,KAAKtB,MAAlD,oCANuC,kDASvCE,EAASd,EAAgB,KAAMsB,WAC/BR,EAASP,KAV8B,4DG5BrC0C,GAAmBC,UAAW,CAClC2B,SAAU3B,YAEPE,WACA0B,IAAI,IACP3B,MAAOD,YAEJC,QACAC,SAAS,2BACZC,SAAUH,YAAaE,SAAS,gCAO5B2B,G,YACJ,WAAYxB,GAAQ,IAAD,8BACjB,4CAAMA,KACDpB,MAAQ,GAFI,E,sEAKT,IAAD,EACkDqB,KAAKD,MAAtDqB,EADD,EACCA,eAAgBI,EADjB,EACiBA,mBAAoBtC,EADrC,EACqCA,SAC5C,OACE,kBAAC,IAAD,CACEgB,kBAAgB,EAChBC,cAAe,CACbkB,SAAU,GACV1B,MAAO,GACPE,SAAU,IAEZJ,iBAAkBA,GAClBW,SAAU,SAACpC,EAAD,GAA8B,IAArBqC,EAAoB,EAApBA,cACjBA,GAAc,GACde,EAAepD,GACfqC,GAAc,MAGf,gBAAGlB,EAAH,EAAGA,OAAH,OACC,oCACE,kBAAC,IAAD,CAAMmB,UAAU,aACd,kBAAC,IAAD,CACEC,KAAK,WACLC,KAAK,QACLC,GAAIC,IACJC,YAAY,iBACZC,SAAiC,cAAvBY,EACVlB,UAAWnB,EAAOkC,UAAYnC,EAASmC,SAAW,QAAU,KAG7DnC,EAASmC,UAAY,6BAAMnC,EAASmC,UACpClC,EAAOkC,UAAY,6BAAMlC,EAAOkC,UACjC,kBAAC,IAAD,CACEd,KAAK,QACLC,KAAK,QACLC,GAAIC,IACJC,YAAY,iBACZC,SAAiC,cAAvBY,EACVlB,UAAWnB,EAAOQ,OAAST,EAASS,MAAQ,QAAU,KAEvDT,EAASS,OAAS,6BAAMT,EAASS,OACjCR,EAAOQ,OAAS,6BAAMR,EAAOQ,OAC9B,kBAAC,IAAD,CACEY,KAAK,WACLC,KAAK,WACLC,GAAIC,IACJC,YAAY,oBACZC,SAAiC,cAAvBY,EACVlB,UAAWnB,EAAOU,UAAYX,EAASW,SAAW,QAAU,KAE7DX,EAASW,UAAYX,EAASW,SAASb,KAAI,SAAAyC,GAAI,OAAI,6BAAMA,MACzDtC,EAAOU,UAAY,6BAAMV,EAAOU,UACjC,kBAAC,IAAD,CACEW,KAAK,UACLQ,SAAS,SACTJ,SAAiC,cAAvBY,EACVlB,UAAU,UAJZ,mB,GAzDaW,IAAMC,WA+ElBC,gBA3GS,SAAAxC,GAMtB,MALc,CACZD,KAAMC,EAAMD,KACZ8C,mBAAoB7C,EAAMF,kBAC1BS,SAAUP,EAAMO,YAuGoBG,GAAzB8B,CAAyCI,I,suBChHjD,IAAMG,GAAiBC,KAAOC,IAAV,MAqBdC,IATqBF,KAAOC,IAAV,MACGD,KAAOC,IAAV,MACGD,KAAOC,IAAV,MAEPD,KAAOG,IAAV,MAKKH,aAAOI,KAAPJ,CAAH,OCxBhB,SAASK,GAAUzB,GACxB,IAAM0B,EAAU1C,SAASC,OAAO0C,MAE9B,IAAIC,OAAJ,kBAAsB5B,EAAK6B,QAAQ,8BAA+B,QAAlE,cAEF,OAAOH,EAAUI,mBAAmBJ,EAAQ,SAAMK,EAyB7C,SAASC,GAAahC,IAtBtB,SAAmBA,EAAMiC,GAAsB,IAAfC,EAAc,uDAAJ,GAC/CA,EAAO,aACLC,KAAM,KAEHD,GAIL,IAAIE,EAAgBC,mBAAmBrC,GAAQ,IAAMqC,mBAAmBJ,GAExE,IAAK,IAAIK,KAAaJ,EAAS,CAC7BE,GAAiB,KAAOE,EACxB,IAAIC,EAAcL,EAAQI,IACN,IAAhBC,IACFH,GAAiB,IAAMG,GAI3BvD,SAASC,OAASmD,EAKlBI,CAAUxC,EAAM,GAAI,CAClB,WAAY,I,uBCjBVlB,GAAiB,CACrB2D,WAAYxE,GAGRyE,G,2MAMJC,YAAc,SAAC/F,EAAMC,EAAOC,GAAd,OAAoC,SAAA8F,GAChDA,EAAMC,mBAENJ,EADuB,EAAKjD,MAApBiD,YACG7F,EAAMC,EAAOC,K,wEAGhB,IAAD,EAIH2C,KAAKD,MAJF,IAELhC,QAAWsF,EAFN,EAEMA,MAAOC,EAFb,EAEaA,OAAQC,EAFrB,EAEqBA,UAAWC,EAFhC,EAEgCA,UAAWC,EAF3C,EAE2CA,eAAgBC,EAF3D,EAE2DA,QAASvG,EAFpE,EAEoEA,KAAMwG,EAF1E,EAE0EA,KAC/EvG,EAHK,EAGLA,MAEIwG,EAAaC,aAAoB,IAAIC,KAAKP,GAAY,CAC1DQ,gBAAgB,EAChBC,WAAW,IAGb,OACE,kBAACnC,GAAD,CAAYoC,KAAK,QAAQZ,MAAOA,EAAOa,MAAO,yCAAeN,IAC3D,yBAAKtD,UAAU,sBACb,0BAAMA,UAAU,0CAAhB,IAA2DgD,EAAOjC,UAClE,yBAAK8C,IAAKb,EAAOc,MAAOC,IAAI,YAAY/D,UAAU,sCAClD,uBAAGA,UAAU,gBAAgBqD,IAG/B,yBAAKrD,UAAU,qBAAqBgE,QAAStE,KAAKkD,YAAY/F,EAAMC,EAAOoG,IACxEA,EACC,2BAAOe,QAAQ,WACZ,IACD,kBAAC,KAAD,CAAM/D,KAAK,QAAQgE,MAAM,WACxBf,GAGH,2BAAOc,QAAQ,YACZ,IACD,kBAAC,KAAD,CAAM/D,KAAK,UACViD,IAKP,yBAAKnD,UAAU,sBACZoD,EAAQ1E,KAAI,SAAAyC,GAAI,OACf,0BAAMgD,IAAKC,uBAAX,KAA0BjD,Y,GAhDhBR,IAAMC,WAAtB+B,GAEG0B,aAAe,CACpBvH,MAAO,YAoEI+D,oBAhFS,WAEtB,MADc,KA+EwB9B,GAAzB8B,CAAyC8B,ICvElD5D,GAAiB,CACrBhD,OAAQmC,EACRoG,YP2CmC,SAAC,GAAD,uBAAExH,EAAF,KAAS6B,EAAT,YAAmB,SAAM3B,GAAN,yBAAAC,EAAAC,OAAA,mDAGpDF,EADW,IAAT2B,EACOxC,IAEAA,EAAQwC,IAEL,GACR4F,EAAkB,IAAT5F,EAAa,GAAb,iBAAyC,IAAZA,EAAO,IAC7C6F,EATgD,iBAOxC,GAPwC,YASpBD,GAC5BE,EAVgD,yDAUQD,GAChD,aAAV1H,EAXkD,4CAAAG,EAAA,MAa3BK,IAAMoH,IAAID,IAbiB,cAa5ClG,EAb4C,OAclDvB,EAASN,EAAsB6B,IAdmB,4DAkBlDZ,QAAQC,IAAR,MAlBkD,kCAuBhDT,EAAS,CACbC,QAAS,CAAEC,cAAc,SAAD,OAAWP,KAxBiB,sBAAAG,EAAA,MA2B7BK,IAAMoH,IAAID,EAAKtH,IA3Bc,QA2B9CoB,EA3B8C,OA4BpDvB,EAASN,EAAsB6B,IA5BqB,mDAgCpDZ,QAAQC,IAAR,MAhCoD,mEO1CtD+G,YPMsC,SAAAC,GAAS,OAAI,SAAM5H,GAAN,iBAAAC,EAAAC,OAAA,uDACnDF,EAASZ,KAD0C,SAG3Ce,EAAS,CACbC,QAAS,CAAEC,cAAc,SAAD,OAAWuH,KAJY,WAAA3H,EAAA,MAM1BK,IAAMoH,IAAI,8CAA+CvH,IAN/B,OAM3CK,EAN2C,OAOjDR,EAASX,KACTW,EAASf,EAAmBuB,EAASE,OARY,kDAWjDC,QAAQC,IAAR,MACAZ,EAASd,EAAgB,KAAMsB,WAC/BR,EAASV,KAbwC,4DOH/CuI,G,2MAmBJC,aAAe,WAAO,IAAD,EACc,EAAKrF,MAA9B1D,EADW,EACXA,OADW,EACHqC,KAAMtB,MACtBmF,GAAa,aACblG,K,EAGFgJ,gBAAkB,WAAO,IAAD,EAKlB,EAAKtF,MAHC3C,EAFY,EAEpBsB,KAAQtB,MACR6B,EAHoB,EAGpBA,KACA2F,EAJoB,EAIpBA,YAEW,IAAT3F,GAIJ2F,EAAY,CAACxH,GAAS,WADN6B,EAAO,K,EAIzBqG,gBAAkB,WAAO,IAAD,EAKlB,EAAKvF,MAHC3C,EAFY,EAEpBsB,KAAQtB,MACR6B,EAHoB,EAGpBA,MAIF2F,EAPsB,EAIpBA,aAGU,CAACxH,GAAS,WADN6B,EAAO,K,EAIzBiE,YAAc,SAAAnF,GAAY,IAChBwH,EAAY,EAAKxF,MAAjBwF,QACFR,EAAG,oBAAgBhH,EAAQZ,MACjCoI,EAAQC,KAAK,CACXC,SAAUV,EACVpG,MAAOZ,K,mFA9CU,IAAD,EAOdiC,KAAKD,MALC3C,EAFQ,EAEhBsB,KAAQtB,MACR6B,EAHgB,EAGhBA,KACA2F,EAJgB,EAIhBA,YACAM,EALgB,EAKhBA,WAGFD,EARkB,EAMhBA,aAEUC,GACZN,EAAY,CAACxH,GAAS,WAAY6B,M,+BAyC1B,IAAD,SAC0Be,KAAKD,MAA9BlB,EADD,EACCA,SAAUH,EADX,EACWA,KAAMO,EADjB,EACiBA,KACxB,OACE,oCACE,yBAAKqB,UAAU,YACb,6BACG5B,EAAK2C,UAAY,yBAAKf,UAAU,kBAAf,eAA6C5B,EAAK2C,UACpE,kBAAC,IAAD,CAAQb,KAAK,UAAU8D,QAAStE,KAAKqF,gBAAiB/E,UAAU,wBAAhE,QAGA,8BAAOrB,GACP,kBAAC,IAAD,CAAQuB,KAAK,UAAU8D,QAAStE,KAAKsF,gBAAiBhF,UAAU,wBAAhE,QAGA,kBAAC,IAAD,CAAQE,KAAK,UAAU8D,QAAStE,KAAKoF,aAAc9E,UAAU,UAA7D,YAIAzB,EAASkC,OAAS,GAAK,kBAAC,KAAD,MACxBlC,EAASG,KAAI,SAAAjB,GAAO,OACnB,kBAAC2D,GAAD,CACE+C,IAAKC,sBACLJ,QAAS,WACP,EAAKpB,YAAYnF,KAGnB,kBAAC,GAAD,CAASA,QAASA,EAASX,MAAOsB,EAAKtB,kB,GAnF9B6D,IAAMC,WAAvBiE,GAEGR,aAAe,CACpB1F,KAAM,EACNiG,UAAWlD,GAAU,aAAeA,GAAU,aAAe,MAyGlD0D,mBAAWvE,aA3HF,SAAAxC,GAMtB,MALc,CACZD,KAAMC,EAAMD,KACZG,SAAUF,EAAME,SAChBI,KAAMN,EAAMM,QAuHmCI,GAAzB8B,CAAyCgE,KC3HnE,SAASQ,GAAQ5F,GAAQ,IAAD,EACA6F,YAAS7F,GADT,mBACf8F,EADe,KACRC,EADQ,KAEtB,OACE,oCACE,kBAAC,IAAD,iBAAWD,EAAW9F,IACrB+F,EAAKC,OAASD,EAAKE,SAAW,6BAAMF,EAAKC,QAKhD,IAAME,GAAmBC,YAAaC,MAAM,CAC1C9C,MAAO6C,YACJE,IAAI,EAAG,cACP9E,IAAI,GAAI,aACR1B,SAAS,YACZyG,YAAaH,YACVE,IAAI,EAAG,cACP9E,IAAI,GAAI,aACR1B,SAAS,YACZ+D,KAAMuC,YAAatG,SAAS,cAWxBP,GAAiB,CACrB2D,WAAYxE,GAGR8H,G,YAMJ,WAAYvG,GAAQ,IAAD,8BACjB,4CAAMA,KACDpB,MAAQ,GAFI,E,sEAKT,IAAD,SAIHqB,KAAKD,MAFC3C,EAFH,EAELsB,KAAQtB,MACIuB,EAHP,EAGL4H,SAAY5H,MAEd,OACE,kBAAC,IAAD,CACEuB,kBAAgB,EAChBC,cAAe,CACbkD,MAAO1E,EAAQA,EAAM0E,MAAQ,GAC7BgD,YAAa1H,EAAQA,EAAM0H,YAAc,GACzC1C,KAAMhF,EAAQA,EAAMgF,KAAO,GAC3BD,QAAS/E,EAAQA,EAAM+E,QAAU,IAEnCjE,iBAAkBwG,GAClB7F,SAAU,SAACpC,EAAD,GAA8B,IAArBqC,EAAoB,EAApBA,cACjBA,GAAc,IACW,6BAAA9C,EAAAC,OAAA,uDACjBkG,EAAU8C,mBAAQxI,EAAK0F,SACvB3F,EAFiB,eAEFC,EAFE,CAEI0F,YACnB6B,EAAY,EAAKxF,MAAjBwF,QACF9H,EAAS,CACbC,QAAS,CAAEC,cAAc,SAAD,OAAWP,KALd,oBAAAG,EAAA,MAQEK,IAAMC,KAAN,kDAErB,CAAEE,WACFN,IAXmB,OAQfK,EARe,OAafiH,EAbe,oBAaIjH,EAASE,KAAKD,QAAQZ,MAC/CoI,EAAQC,KAAK,CACXC,SAAUV,EACVpG,MAAOb,EAASE,KAAKD,UAhBF,kDAoBrBE,QAAQC,IAAR,MApBqB,yDAuBzBuI,GACApG,GAAc,MAGf,gBAAGqG,EAAH,EAAGA,OAAQC,EAAX,EAAWA,aAAX,OACC,oCACE,kBAAC,IAAD,CAAMrG,UAAU,aACd,kBAACqF,GAAD,CAASpF,KAAK,QAAQI,YAAY,0BAClC,kBAACgF,GAAD,CAASpF,KAAK,cAAcI,YAAY,gCACxC,kBAACgF,GAAD,CAASpF,KAAK,OAAOI,YAAY,yBACjC,kBAAC,IAAD,CAAYJ,KAAK,YACd,SAAAqG,GAAY,OACX,oCACE,kBAACjB,GAAD,CAASpF,KAAK,aAAaI,YAAY,gBAAgB8D,IAAK,IAC3DiC,EAAOhD,QAAQmD,MAAM,GAAG7H,KAAI,SAACyC,EAAMqF,GAAP,OAC3B,kBAACnB,GAAD,CACEpF,KAAI,kBAAauG,EAAQ,EAArB,KACJnG,YAAY,gBAEZ8D,IAAKqC,OAGT,kBAAC,IAAD,CACEtG,KAAK,UACLQ,SAAS,SACTJ,SAAU+F,EACVrC,QAAS,kBAAMoC,EAAOhD,QAAQ,IAAMkD,EAAapB,QACjDlF,UAAU,yCALZ,2BAYN,kBAAC,IAAD,CACEE,KAAK,UACLQ,SAAS,SACTJ,SAAU+F,EACVrG,UAAU,kCAJZ,mB,GArFiBW,IAAMC,WAA/BoF,GAEG3B,aAAe,CACpB4B,SAAU,MAqHCb,mBAAWvE,aApIF,SAAAxC,GAKtB,MAJc,CACZD,KAAMC,EAAMD,KACZG,SAAUF,EAAME,YAiI+BQ,GAAzB8B,CAAyCmF,KClJ7DjH,GAAiB,CACrB2D,WAAYxE,GAGRuI,G,2MACJ7D,YAAc,SAAC/F,EAAMC,EAAOC,GAAd,OAAoC,SAAM8F,GAAN,2BAAA5F,EAAAC,OAAA,uDAChD2F,EAAMC,kBAD0C,EAO5C,EAAKrD,MAJPiD,EAH8C,EAG9CA,WACAuC,EAJ8C,EAI9CA,QACY5G,EALkC,EAK9C4H,SAAY5H,MACZE,EAN8C,EAM9CA,SAN8C,WAAAtB,EAAA,MAQ1CyF,EAAW7F,EAAMC,EAAOC,IARkB,OAS1C0H,EAT0C,oBASvBpG,EAAMxB,MACzB6J,EAAsBC,qBAAUpI,GAAU,SAAAhB,GAAI,OAAIA,EAAKV,OAASA,KACtEoI,EAAQnD,QAAQ,CACdqD,SAAUV,EACVpG,MAAOE,EAASmI,KAb8B,uC,EAiBlDE,gBAAkB,WAAO,IAAD,EAIlB,EAAKnH,MAFKpB,EAFQ,EAEpB4H,SAAY5H,MACZ4G,EAHoB,EAGpBA,QAEIR,EAAG,oBAAgBpG,EAAMxB,KAAtB,SACToI,EAAQC,KAAK,CACXC,SAAUV,EACVpG,W,wEAIM,IAAD,EAIHqB,KAAKD,MAFKpB,EAFP,EAEL4H,SAAY5H,MAFP,IAGLD,KAAQtB,EAHH,EAGGA,MAEJ+J,EALC,EAGU9F,SAGX+F,EAAczI,EAAM2E,OAAOjC,SAC3BuC,EAAaC,aAAoB,IAAIC,KAAKnF,EAAM4E,WAAY,CAChEQ,gBAAgB,EAChBC,WAAW,IAEb,OACE,kBAACnC,GAAD,CAAYoC,KAAK,QAAQZ,MAAO1E,EAAM0E,MAAOa,MAAO,yCAAeN,IACjE,yBAAKtD,UAAU,sBACb,yBACE6D,IAAKxF,EAAM2E,OAAOc,MAClBC,IAAI,YACJ/D,UAAU,sCAEZ,qCAAW3B,EAAM2E,OAAOjC,UACxB,2BAAI1C,EAAMgF,OAGZ,yBACErD,UAAU,qBACVgE,QAAStE,KAAKkD,YAAYvE,EAAMxB,KAAMC,EAAOuB,EAAM6E,YAElD7E,EAAM6E,UACL,2BAAOe,QAAQ,WACZ,IACD,kBAAC,KAAD,CAAM/D,KAAK,QAAQgE,MAAM,WACxB7F,EAAM8E,gBAGT,2BAAOc,QAAQ,YACZ,IACD,kBAAC,KAAD,CAAM/D,KAAK,UACV7B,EAAM8E,iBAKb,yBAAKnD,UAAU,sBACZ3B,EAAM+E,QAAQ1E,KAAI,SAAAyC,GAAI,OACrB,0BAAMgD,IAAKC,uBAAX,KAA0BjD,EAA1B,SAGH0F,IAAeC,GAAe,kBAAC,IAAD,CAAQ9C,QAAStE,KAAKkH,iBAAtB,a,GA7EXjG,IAAMC,WA0GnBwE,eAAWvE,aAtHF,SAAAxC,GAKtB,MAJc,CACZD,KAAMC,EAAMD,KACZG,SAAUF,EAAME,YAmH+BQ,GAAzB8B,CAAyC4F,KC3GpDM,OAnBf,WACE,OACE,wBAAI/G,UAAU,OACZ,4BACE,kBAAC,IAAD,CAAMgH,GAAG,UAAT,UAEF,4BACE,kBAAC,IAAD,CAAMA,GAAG,iBAAT,iBAEF,4BACE,kBAAC,IAAD,CAAMA,GAAG,KAAT,aAEF,4BACE,kBAAC,IAAD,CAAMA,GAAG,QAAT,eCFFpC,I,OAAYlD,GAAU,cAmDbb,oBAlDS,SAAAxC,GAItB,MAHc,CACZD,KAAMC,EAAMD,QAgDDyC,EA1Cf,YAAwB,IAATzC,EAAQ,EAARA,KACb,OACE,kBAAC,IAAD,CAAQ6I,SAAS,UACf,yBAAKjH,UAAU,OACb,kBAAC,GAAD,MACA,kBAAC,IAAD,CAAOkH,OAAK,EAAC9E,KAAK,UACf7B,OAAO4G,KAAK/I,GAAMqC,OAAS,GAAKmE,GAAY,kBAAC,IAAD,CAAUoC,GAAG,MAAS,kBAAC,GAAD,OAErE,kBAAC,IAAD,CAAOE,OAAK,EAAC9E,KAAK,iBACf7B,OAAO4G,KAAK/I,GAAMqC,OAAS,GAAKmE,GAAY,kBAAC,IAAD,CAAUoC,GAAG,MAAS,kBAAC,GAAD,OAErE,kBAAC,IAAD,CAAOE,OAAK,EAAC9E,KAAK,KAChB,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO8E,OAAK,EAAC9E,KAAK,QACf7B,OAAO4G,KAAK/I,GAAMqC,OAAS,GAAKmE,GAC/B,kBAAC,GAAD,MAEA,kBAAC,IAAD,CAAUoC,GAAG,YAGjB,kBAAC,IAAD,CAAOE,OAAK,EAAC9E,KAAK,iBACf7B,OAAO4G,KAAK/I,GAAMqC,OAAS,GAAKmE,GAAY,kBAAC,GAAD,MAAoB,kBAAC,IAAD,CAAUoC,GAAG,YAEhF,kBAAC,IAAD,CAAOE,OAAK,EAAC9E,KAAK,sBACf7B,OAAO4G,KAAK/I,GAAMqC,OAAS,GAAKmE,GAC/B,kBAAC,GAAD,MAEA,kBAAC,IAAD,CAAUoC,GAAG,iBCvCnBI,GAAQC,YAAYC,EAAUC,YAAQC,YAAgBC,OAE5DC,IAASC,OACP,kBAAC,IAAD,CAAUP,MAAOA,IACf,kBAAC,GAAD,OAEFnI,SAAS2I,eAAe,W","file":"static/js/main.06038602.chunk.js","sourcesContent":["import { createAction } from 'redux-actions';\nimport axios from 'axios';\n\nexport const logOut = createAction('LOG_OUT');\n\nexport const userInfoFromServer = createAction('USER_INFO_FROM_SERVER');\n\nexport const netErrorToState = createAction('NET_ERR_TO_STATE');\n\nexport const setPage = createAction('SET_START_PAGING');\n\nexport const loginStateRequest = createAction('LOG_IN_REQUEST');\nexport const loginStateSuccess = createAction('LOG_IN_SUCCESS');\nexport const loginStateFailure = createAction('LOG_IN_FAILURE');\nexport const logInWithEmainAndPassword = user => async dispatch => {\n  dispatch(loginStateRequest());\n  try {\n    const response = await axios.post('https://conduit.productionready.io/api/users/login', {\n      user,\n    });\n    dispatch(loginStateSuccess());\n    dispatch(userInfoFromServer(response.data));\n    document.cookie = `authToken=${response.data.user.token}; path=/; max-age=86400; secure `;\n  } catch (error) {\n    dispatch(netErrorToState(error.response));\n    dispatch(loginStateFailure());\n  }\n};\nexport const logInWithCookieAuthToken = authToken => async dispatch => {\n  dispatch(loginStateRequest());\n  try {\n    const config = {\n      headers: { Authorization: `Token ${authToken}` },\n    };\n    const response = await axios.get('https://conduit.productionready.io/api/user', config);\n    dispatch(loginStateSuccess());\n    dispatch(userInfoFromServer(response.data));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n    dispatch(netErrorToState(error.response));\n    dispatch(loginStateFailure());\n  }\n};\n\nexport const registrationStateRequest = createAction('REGISTRATION_IN_REQUEST');\nexport const registrationStateSuccess = createAction('REGISTRATION_SUCCESS');\nexport const registrationStateFailure = createAction('REGISTRATION_FAILURE');\nexport const registrWithUserData = user => async dispatch => {\n  dispatch(registrationStateRequest());\n  try {\n    const response = await axios.post(' https://conduit.productionready.io/api/users', { user });\n    dispatch(registrationStateSuccess());\n    dispatch(userInfoFromServer(response.data));\n    document.cookie = `authToken=${response.data.user.token}; path=/; max-age=86400; secure;`;\n    // программный редирект\n  } catch (error) {\n    dispatch(netErrorToState(error.response));\n    dispatch(registrationStateFailure());\n  }\n};\n\nexport const getArticles = createAction('GET_ARTICLES_FROM_SERVER');\nexport const getArticlesFromServer = createAction('GET_ARTICLES_FROM_SERVER');\nexport const askArticlesFromServer = ([token, page]) => async dispatch => {\n  // меняем страницу\n  if (page === 1) {\n    dispatch(setPage());\n  } else {\n    dispatch(setPage(page));\n  }\n  const limit = 10;\n  const offset = page === 1 ? '' : `offset=${(page - 1) * 10}`;\n  const params = `?limit=${limit}&${offset}`;\n  const url = `https://conduit.productionready.io/api/articles${params}`;\n  if (token === 'optional') {\n    try {\n      const articles = await axios.get(url);\n      dispatch(getArticlesFromServer(articles));\n      return;\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(error);\n      return;\n    }\n  }\n\n  const config = {\n    headers: { Authorization: `Token ${token}` },\n  };\n  try {\n    const articles = await axios.get(url, config);\n    dispatch(getArticlesFromServer(articles));\n  } catch (error) {\n    // обработать бы\n    // eslint-disable-next-line no-console\n    console.log(error);\n  }\n};\n\nexport const updateLikeStatus = createAction('UPDATE_POST_LIKE_STATUS');\nexport const likePost = (slug, token, currentLikeStatus) => async dispatch => {\n  const config = {\n    headers: { Authorization: `Token ${token}` },\n  };\n\n  if (!currentLikeStatus) {\n    try {\n      const response = await axios.post(\n        `https://conduit.productionready.io/api/articles/${slug}/favorite`,\n        '',\n        config\n      );\n      const article = response.data;\n      dispatch(updateLikeStatus(article));\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(error);\n      if (error.response.status) {\n        // eslint-disable-next-line no-alert\n        alert('u need to login first');\n      }\n    }\n  } else {\n    try {\n      const response = await axios.delete(\n        `https://conduit.productionready.io/api/articles/${slug}/favorite`,\n        config\n      );\n      const article = response.data;\n      dispatch(updateLikeStatus(article));\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(error);\n      if (error.response.status) {\n        // eslint-disable-next-line no-alert\n        alert('u need to login first');\n      }\n    }\n  }\n};\n","import { combineReducers } from 'redux';\nimport { handleActions } from 'redux-actions';\nimport * as actions from '../actions';\n// нативно не смогу подключить ридукс\n\nconst loginState = handleActions(\n  {\n    [actions.loginStateRequest]() {\n      return 'requested';\n    },\n    [actions.loginStateFailure]() {\n      return 'failed';\n    },\n    [actions.loginStateSuccess]() {\n      return 'finished';\n    },\n  },\n  'none'\n);\n\nconst registrationState = handleActions(\n  {\n    [actions.registrationStateRequest]() {\n      return 'requested';\n    },\n    [actions.registrationStateFailure]() {\n      return 'failed';\n    },\n    [actions.registrationStateSuccess]() {\n      return 'finished';\n    },\n  },\n  'none'\n);\n\nconst user = handleActions(\n  {\n    [actions.userInfoFromServer](state, { payload }) {\n      return {\n        ...payload.user,\n      };\n    },\n    [actions.logOut]() {\n      return {};\n    },\n  },\n  {}\n);\n\nconst articles = handleActions(\n  {\n    [actions.getArticlesFromServer](state, { payload: { data } }) {\n      // тут настраиваем пагинацию\n      const articlesToStore = data.articles;\n      return [...articlesToStore];\n    },\n    [actions.updateLikeStatus](state, { payload: { article } }) {\n      // тут все нормально в такой записи?\n      const newState = state.map(post => {\n        return post.slug === article.slug ? article : post;\n      });\n      // eslint-disable-next-line no-param-reassign\n      return [...newState];\n    },\n  },\n  []\n);\n\nconst page = handleActions(\n  {\n    [actions.setPage](state, { payload }) {\n      return payload || 1;\n    },\n  },\n  1\n);\n\nconst netError = handleActions(\n  {\n    [actions.netErrorToState](state, { payload: { data } }) {\n      return {\n        ...data.errors,\n      };\n    },\n  },\n  {}\n);\n\nexport default combineReducers({\n  user,\n  loginState,\n  registrationState,\n  netError,\n  articles,\n  page,\n});\n","import React from 'react';\nimport { Formik, Field, Form } from 'formik';\nimport { Input, Button } from 'antd';\nimport { connect } from 'react-redux';\nimport * as yup from 'yup';\nimport PropTypes from 'prop-types';\nimport * as actions from '../actions';\n\nconst mapStateToProps = state => {\n  const props = {\n    user: state.user,\n    login: state.loginState,\n    netError: state.netError,\n  };\n  return props;\n};\n\nconst actionCreators = {\n  doLogin: actions.logInWithEmainAndPassword,\n};\n\nconst validationSchema = yup.object({\n  email: yup\n    .string()\n    .email()\n    .required('Please Enter your Email'),\n  password: yup.string().required('Please Enter your password'),\n});\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { login, netError, doLogin } = this.props;\n    return (\n      <Formik\n        validateOnChange\n        initialValues={{\n          password: '',\n          email: '',\n        }}\n        validationSchema={validationSchema}\n        onSubmit={(data, { setSubmitting }) => {\n          setSubmitting(true);\n          doLogin(data);\n          setSubmitting(false);\n        }}\n      >\n        {({ errors }) => (\n          <>\n            <Form className=\"loginForm\">\n              <Field\n                name=\"email\"\n                type=\"input\"\n                as={Input}\n                placeholder=\"enter ur email\"\n                disabled={login === 'requested'}\n                className={errors.email || Object.entries(netError).length > 0 ? 'error' : ''}\n              />\n              {/* //надо ли тут доставать точный текст ошибки, или можно свой собственный добавить, так как вариант ошибки только один = неверный адресс\\пароль */}\n              {errors.email && <div>{errors.email}</div>}\n              <Field\n                name=\"password\"\n                type=\"password\"\n                as={Input}\n                placeholder=\"enter ur password\"\n                disabled={login === 'requested'}\n                className={errors.password || Object.entries(netError).length > 0 ? 'error' : ''}\n              />\n              {errors.password && <div>{errors.password}</div>}\n              {Object.entries(netError).length > 0 && <div>Email or Password incorrect</div>}\n              <Button\n                type=\"primary\"\n                htmlType=\"submit\"\n                disabled={login === 'requested'}\n                className=\"subBut\"\n              >\n                Submit\n              </Button>\n            </Form>\n          </>\n        )}\n      </Formik>\n    );\n  }\n}\n\nLogin.propTypes = {\n  login: PropTypes.string.isRequired,\n  netError: PropTypes.objectOf(PropTypes.string).isRequired,\n  doLogin: PropTypes.func.isRequired,\n};\nexport default connect(mapStateToProps, actionCreators)(Login);\n","import React from 'react';\nimport { Formik, Field, Form } from 'formik';\nimport { Button, Input } from 'antd';\nimport { connect } from 'react-redux';\nimport * as yup from 'yup';\nimport PropTypes from 'prop-types';\nimport * as actions from '../actions';\n\nconst mapStateToProps = state => {\n  const props = {\n    user: state.user,\n    registrationStatus: state.registrationState,\n    netError: state.netError,\n  };\n  return props;\n};\n\nconst actionCreators = {\n  doRegistration: actions.registrWithUserData,\n};\nconst validationSchema = yup.object({\n  username: yup\n    .string()\n    .required()\n    .max(50),\n  email: yup\n    .string()\n    .email()\n    .required('Please Enter your Email'),\n  password: yup.string().required('Please Enter your password'),\n  // .matches(\n  //     \"^(?=.*[A-Za-z])(?=.*d)(?=.*[@$!%*#?&])[A-Za-zd@$!%*#?&]{8,}$\",\n  //     \"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character\"\n  // )\n});\n\nclass Registration extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { doRegistration, registrationStatus, netError } = this.props;\n    return (\n      <Formik\n        validateOnChange\n        initialValues={{\n          username: '',\n          email: '',\n          password: '',\n        }}\n        validationSchema={validationSchema}\n        onSubmit={(data, { setSubmitting }) => {\n          setSubmitting(true);\n          doRegistration(data);\n          setSubmitting(false);\n        }}\n      >\n        {({ errors }) => (\n          <>\n            <Form className=\"loginForm\">\n              <Field\n                name=\"username\"\n                type=\"input\"\n                as={Input}\n                placeholder=\"enter ur login\"\n                disabled={registrationStatus === 'requested'}\n                className={errors.username || netError.username ? 'error' : ''}\n              />\n\n              {netError.username && <div>{netError.username}</div>}\n              {errors.username && <div>{errors.username}</div>}\n              <Field\n                name=\"email\"\n                type=\"input\"\n                as={Input}\n                placeholder=\"enter ur email\"\n                disabled={registrationStatus === 'requested'}\n                className={errors.email || netError.email ? 'error' : ''}\n              />\n              {netError.email && <div>{netError.email}</div>}\n              {errors.email && <div>{errors.email}</div>}\n              <Field\n                name=\"password\"\n                type=\"password\"\n                as={Input}\n                placeholder=\"enter ur password\"\n                disabled={registrationStatus === 'requested'}\n                className={errors.password || netError.password ? 'error' : ''}\n              />\n              {netError.password && netError.password.map(item => <div>{item}</div>)}\n              {errors.password && <div>{errors.password}</div>}\n              <Button\n                type=\"primary\"\n                htmlType=\"submit\"\n                disabled={registrationStatus === 'requested'}\n                className=\"subBut\"\n              >\n                Submit\n              </Button>\n            </Form>\n          </>\n        )}\n      </Formik>\n    );\n  }\n}\n\nRegistration.propTypes = {\n  doRegistration: PropTypes.func.isRequired,\n  registrationStatus: PropTypes.string.isRequired,\n  netError: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n\nexport default connect(mapStateToProps, actionCreators)(Registration);\n","import styled from 'styled-components';\nimport { Card } from 'antd';\n\nexport const ArticleWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-content: center;\n  background-color: #e5e5e5;\n  margin-top: 50px;\n  width: 500px;\n  cursor: pointer;\n`;\n\nexport const ArticleTagsSection = styled.div``;\nexport const ArticleLikeSection = styled.div``;\nexport const ArticleMainSection = styled.div``;\n\nexport const HeartImg = styled.img`\n  width: 20px;\n  height: 35px;\n`;\n\nexport const StyledCard = styled(Card)`\n  width: 500px;\n`;\n","export function getCookie(name) {\n  const matches = document.cookie.match(\n    // eslint-disable-next-line no-useless-escape\n    new RegExp(`(?:^|; )${name.replace(/([\\.$?*|{}(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1')}=([^;]*)`)\n  );\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\nexport function setCookie(name, value, options = {}) {\n  options = {\n    path: '/',\n    // при необходимости добавьте другие значения по умолчанию\n    ...options\n  };\n\n\n  let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\n\n  for (let optionKey in options) {\n    updatedCookie += \"; \" + optionKey;\n    let optionValue = options[optionKey];\n    if (optionValue !== true) {\n      updatedCookie += \"=\" + optionValue;\n    }\n  }\n\n  document.cookie = updatedCookie;\n}\n\n\nexport function deleteCookie(name) {\n  setCookie(name, '', {\n    'max-age': -1,\n  });\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { formatDistanceToNow } from 'date-fns';\nimport { Icon } from 'antd';\nimport PropTypes from 'prop-types';\nimport { uniqueId } from 'lodash';\nimport { StyledCard } from './styledComponents';\n\nimport * as actions from '../actions';\n\nconst mapStateToProps = () => {\n  const props = {};\n  return props;\n};\n\nconst actionCreators = {\n  handleLike: actions.likePost,\n};\n\nclass Article extends React.Component {\n  // eslint-disable-next-line react/static-property-placement\n  static defaultProps = {\n    token: 'optional',\n  };\n\n  handleClick = (slug, token, currentLikeStatus) => event => {\n    event.stopPropagation();\n    const { handleLike } = this.props;\n    handleLike(slug, token, currentLikeStatus);\n  };\n\n  render() {\n    const {\n      article: { title, author, createdAt, favorited, favoritesCount, tagList, slug, body },\n      token,\n    } = this.props;\n    const formedDate = formatDistanceToNow(new Date(createdAt), {\n      includeSeconds: true,\n      addSuffix: true,\n    });\n\n    return (\n      <StyledCard size=\"small\" title={title} extra={<span>created {formedDate}</span>}>\n        <div className=\"ArticleMainSection\">\n          <span className=\"ArticleMainSection-useProfile-userName\"> {author.username}</span>\n          <img src={author.image} alt=\"userPhoto\" className=\"ArticleMainSection-useProfile-Img\" />\n          <p className=\"Article-Body\">{body}</p>\n        </div>\n        {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions,jsx-a11y/click-events-have-key-events */}\n        <div className=\"ArticleLikeSection\" onClick={this.handleClick(slug, token, favorited)}>\n          {favorited ? (\n            <label htmlFor=\"imgTest\">\n              {' '}\n              <Icon type=\"heart\" theme=\"filled\" />\n              {favoritesCount}\n            </label>\n          ) : (\n            <label htmlFor=\"imgTest2\">\n              {' '}\n              <Icon type=\"heart\" />\n              {favoritesCount}\n            </label>\n          )}\n        </div>\n\n        <div className=\"ArticleTagsSection\">\n          {tagList.map(item => (\n            <span key={uniqueId()}> #{item}</span>\n          ))}\n        </div>\n      </StyledCard>\n    );\n  }\n}\n\nArticle.propTypes = {\n  handleLike: PropTypes.func.isRequired,\n  token: PropTypes.string,\n  article: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    createdAt: PropTypes.string.isRequired,\n    favorited: PropTypes.bool.isRequired,\n    favoritesCount: PropTypes.number.isRequired,\n    tagList: PropTypes.array.isRequired,\n    slug: PropTypes.string.isRequired,\n    body: PropTypes.string.isRequired,\n    author: PropTypes.object.isRequired,\n  }).isRequired,\n};\n\nexport default connect(mapStateToProps, actionCreators)(Article);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Spin } from 'antd';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { uniqueId } from 'lodash';\nimport { ArticleWrapper } from './styledComponents';\nimport * as actions from '../actions';\nimport { getCookie, deleteCookie } from './functions/cookieFunc';\nimport Article from './Article';\n\nconst mapStateToProps = state => {\n  const props = {\n    user: state.user,\n    articles: state.articles,\n    page: state.page,\n  };\n  return props;\n};\nconst actionCreators = {\n  logOut: actions.logOut,\n  getArticles: actions.askArticlesFromServer,\n  cookieLogin: actions.logInWithCookieAuthToken,\n};\n\nclass MainPage extends React.Component {\n  // eslint-disable-next-line react/static-property-placement\n  static defaultProps = {\n    page: 1,\n    authToken: getCookie('authToken') ? getCookie('authToken') : null,\n  };\n\n  componentDidMount() {\n    const {\n      user: { token },\n      page,\n      getArticles,\n      authToken,\n      cookieLogin,\n    } = this.props;\n    cookieLogin(authToken);\n    getArticles([token || 'optional', page]);\n  }\n\n  handleLogOut = () => {\n    const { logOut, user:{token} } = this.props;\n    deleteCookie('authToken')\n    logOut();\n  };\n\n  hanglePrevClick = () => {\n    const {\n      user: { token },\n      page,\n      getArticles,\n    } = this.props;\n    if (page === 1) {\n      return;\n    }\n    const newPage = page - 1;\n    getArticles([token || 'optional', newPage]);\n  };\n\n  hangleNextClick = () => {\n    const {\n      user: { token },\n      page,\n      getArticles,\n    } = this.props;\n    const newPage = page + 1;\n    getArticles([token || 'optional', newPage]);\n  };\n\n  handleClick = article => {\n    const { history } = this.props;\n    const url = `/articles/${article.slug}`;\n    history.push({\n      pathname: url,\n      state: article,\n    });\n  };\n\n  render() {\n    const { articles, user, page } = this.props;\n    return (\n      <>\n        <div className=\"mainPage\">\n          <div>\n            {user.username && <div className=\"logInIndicator\">u logged as {user.username}</div>}\n            <Button type=\"primary\" onClick={this.hanglePrevClick} className=\"MainPage-Prev-Button\">\n              Prev\n            </Button>\n            <span>{page}</span>\n            <Button type=\"primary\" onClick={this.hangleNextClick} className=\"MainPage-Next-Button\">\n              Next\n            </Button>\n            <Button type=\"primary\" onClick={this.handleLogOut} className=\"logOut\">\n              LogOut\n            </Button>\n          </div>\n          {!articles.length > 0 && <Spin />}\n          {articles.map(article => (\n            <ArticleWrapper\n              key={uniqueId()}\n              onClick={() => {\n                this.handleClick(article);\n              }}\n            >\n              <Article article={article} token={user.token} />\n            </ArticleWrapper>\n          ))}\n        </div>\n      </>\n    );\n  }\n}\n\nMainPage.propTypes = {\n  authToken: PropTypes.string,\n  cookieLogin: PropTypes.func.isRequired,\n  page: PropTypes.number,\n  getArticles: PropTypes.func.isRequired,\n  logOut: PropTypes.func.isRequired,\n  articles: PropTypes.arrayOf(PropTypes.object).isRequired,\n  history: PropTypes.shape({\n    replace: PropTypes.func.isRequired,\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  user: PropTypes.shape({\n    token: PropTypes.string,\n    username: PropTypes.string,\n  }).isRequired,\n};\n\nexport default withRouter(connect(mapStateToProps, actionCreators)(MainPage));\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Formik, Form, FieldArray, useField } from 'formik';\nimport { Input, Button } from 'antd';\nimport { compact } from 'lodash';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport * as actions from '../actions';\n\nfunction MyInput(props) {\n  const [field, meta] = useField(props);\n  return (\n    <>\n      <Input {...field} {...props} />\n      {meta.error && meta.touched && <div>{meta.error}</div>}\n    </>\n  );\n}\n\nconst ValidationSchema = Yup.object().shape({\n  title: Yup.string()\n    .min(2, 'Too Short!')\n    .max(50, 'Too Long!')\n    .required('Required'),\n  description: Yup.string()\n    .min(2, 'Too Short!')\n    .max(50, 'Too Long!')\n    .required('Required'),\n  body: Yup.string().required('Required'),\n});\n\nconst mapStateToProps = state => {\n  const props = {\n    user: state.user,\n    articles: state.articles,\n  };\n  return props;\n};\n\nconst actionCreators = {\n  handleLike: actions.likePost,\n};\n\nclass CreateNewArticle extends React.Component {\n  // eslint-disable-next-line react/static-property-placement\n  static defaultProps = {\n    location: null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const {\n      user: { token },\n      location: { state },\n    } = this.props;\n    return (\n      <Formik\n        validateOnChange\n        initialValues={{\n          title: state ? state.title : '',\n          description: state ? state.description : '',\n          body: state ? state.body : '',\n          tagList: state ? state.tagList : [],\n        }}\n        validationSchema={ValidationSchema}\n        onSubmit={(data, { setSubmitting }) => {\n          setSubmitting(true);\n          const sendDataToServer = async () => {\n            const tagList = compact(data.tagList);\n            const article = { ...data, tagList };\n            const { history } = this.props;\n            const config = {\n              headers: { Authorization: `Token ${token}` },\n            };\n            try {\n              const response = await axios.post(\n                `https://conduit.productionready.io/api/articles`,\n                { article },\n                config\n              );\n              const url = `/articles/${response.data.article.slug}`;\n              history.push({\n                pathname: url,\n                state: response.data.article,\n              });\n            } catch (error) {\n              // eslint-disable-next-line no-console\n              console.log(error);\n            }\n          };\n          sendDataToServer();\n          setSubmitting(false);\n        }}\n      >\n        {({ values, isSubmitting }) => (\n          <>\n            <Form className=\"loginForm\">\n              <MyInput name=\"title\" placeholder=\"enter article's title\" />\n              <MyInput name=\"description\" placeholder=\"enter article's description\" />\n              <MyInput name=\"body\" placeholder=\"enter article's body\" />\n              <FieldArray name=\"tagList\">\n                {arrayHelpers => (\n                  <>\n                    <MyInput name=\"tagList[0]\" placeholder=\"enter hashTag\" key={0} />\n                    {values.tagList.slice(1).map((item, index) => (\n                      <MyInput\n                        name={`tagList[${index + 1}]`}\n                        placeholder=\"enter hashTag\"\n                        /* eslint-disable-next-line react/no-array-index-key */\n                        key={index}\n                      />\n                    ))}\n                    <Button\n                      type=\"primary\"\n                      htmlType=\"button\"\n                      disabled={isSubmitting}\n                      onClick={() => values.tagList[0] && arrayHelpers.push()}\n                      className=\"CreateNewArticle-addNewArticle-Button\"\n                    >\n                      add another hashTag\n                    </Button>\n                  </>\n                )}\n              </FieldArray>\n              <Button\n                type=\"primary\"\n                htmlType=\"submit\"\n                disabled={isSubmitting}\n                className=\"CreateNewArticle-Submit-Button\"\n              >\n                Submit\n              </Button>\n            </Form>\n          </>\n        )}\n      </Formik>\n    );\n  }\n}\n\nCreateNewArticle.propTypes = {\n  history: PropTypes.shape({\n    replace: PropTypes.func.isRequired,\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  user: PropTypes.shape({\n    token: PropTypes.string.isRequired,\n    username: PropTypes.string.isRequired,\n  }).isRequired,\n  location: PropTypes.shape({\n    state: PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      description: PropTypes.string.isRequired,\n      tagList: PropTypes.array.isRequired,\n      body: PropTypes.string.isRequired,\n    }),\n  }),\n};\n\nexport default withRouter(connect(mapStateToProps, actionCreators)(CreateNewArticle));\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { findIndex, uniqueId } from 'lodash';\nimport { formatDistanceToNow } from 'date-fns';\nimport { Icon, Button } from 'antd';\nimport PropTypes from 'prop-types';\n\nimport { StyledCard } from './styledComponents';\nimport * as actions from '../actions';\n\nconst mapStateToProps = state => {\n  const props = {\n    user: state.user,\n    articles: state.articles,\n  };\n  return props;\n};\n\nconst actionCreators = {\n  handleLike: actions.likePost,\n};\n\nclass OpenedArticle extends React.Component {\n  handleClick = (slug, token, currentLikeStatus) => async event => {\n    event.stopPropagation();\n    const {\n      handleLike,\n      history,\n      location: { state },\n      articles,\n    } = this.props;\n    await handleLike(slug, token, currentLikeStatus);\n    const url = `/articles/${state.slug}`;\n    const numOFArticleInState = findIndex(articles, post => post.slug === slug);\n    history.replace({\n      pathname: url,\n      state: articles[numOFArticleInState],\n    });\n  };\n\n  handleEditClick = () => {\n    const {\n      location: { state },\n      history,\n    } = this.props;\n    const url = `/articles/${state.slug}/edit`;\n    history.push({\n      pathname: url,\n      state,\n    });\n  };\n\n  render() {\n    const {\n      location: { state },\n      user: { token, username },\n    } = this.props;\n    const authorName = username;\n    const currentUser = state.author.username;\n    const formedDate = formatDistanceToNow(new Date(state.createdAt), {\n      includeSeconds: true,\n      addSuffix: true,\n    });\n    return (\n      <StyledCard size=\"small\" title={state.title} extra={<span>created {formedDate}</span>}>\n        <div className=\"ArticleMainSection\">\n          <img\n            src={state.author.image}\n            alt=\"userPhoto\"\n            className=\"ArticleMainSection-useProfile-Img\"\n          />\n          <p>author:{state.author.username}</p>\n          <p>{state.body}</p>\n        </div>\n        {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions,jsx-a11y/click-events-have-key-events */}\n        <div\n          className=\"ArticleLikeSection\"\n          onClick={this.handleClick(state.slug, token, state.favorited)}\n        >\n          {state.favorited ? (\n            <label htmlFor=\"imgLike\">\n              {' '}\n              <Icon type=\"heart\" theme=\"filled\" />\n              {state.favoritesCount}\n            </label>\n          ) : (\n            <label htmlFor=\"imgLike2\">\n              {' '}\n              <Icon type=\"heart\" />\n              {state.favoritesCount}\n            </label>\n          )}\n        </div>\n\n        <div className=\"ArticleTagsSection\">\n          {state.tagList.map(item => (\n            <span key={uniqueId()}> #{item} </span>\n          ))}\n        </div>\n        {authorName === currentUser && <Button onClick={this.handleEditClick}>edit</Button>}\n      </StyledCard>\n    );\n  }\n}\nOpenedArticle.propTypes = {\n  handleLike: PropTypes.func.isRequired,\n  location: PropTypes.shape({\n    state: PropTypes.shape({\n      slug: PropTypes.string.isRequired,\n      author: PropTypes.object.isRequired,\n      createdAt: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      favorited: PropTypes.bool.isRequired,\n      favoritesCount: PropTypes.number.isRequired,\n      tagList: PropTypes.array.isRequired,\n      body: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n  articles: PropTypes.arrayOf(PropTypes.object).isRequired,\n  history: PropTypes.shape({\n    replace: PropTypes.func.isRequired,\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  user: PropTypes.shape({\n    token: PropTypes.string.isRequired,\n    username: PropTypes.string.isRequired,\n  }).isRequired,\n};\nexport default withRouter(connect(mapStateToProps, actionCreators)(OpenedArticle));\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Nav() {\n  return (\n    <ul className=\"nav\">\n      <li>\n        <Link to=\"/login\">Login</Link>\n      </li>\n      <li>\n        <Link to=\"/registration\">Registration</Link>\n      </li>\n      <li>\n        <Link to=\"/\">MainPage</Link>\n      </li>\n      <li>\n        <Link to=\"/add\">Add Post</Link>\n      </li>\n    </ul>\n  );\n}\n\nexport default Nav;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Redirect } from 'react-router';\nimport PropTypes from 'prop-types';\nimport Login from './components/Login';\nimport Registration from './components/Registration';\nimport MainPage from './components/MainPage';\nimport CreateNewArticle from './components/CreateNewArticle';\nimport OpenedArticle from './components/OpenedArticle';\nimport { getCookie } from './components/functions/cookieFunc';\nimport Nav from './components/Nav';\nimport 'antd/dist/antd.css';\n\nconst authToken = getCookie('authToken');\nconst mapStateToProps = state => {\n  const props = {\n    user: state.user,\n  };\n  return props;\n};\n\n// я все время при установки зависимостей пишу --save это норм, или надо все же разделять dev dep от обычных\nfunction App({ user }) {\n  return (\n    <Router basename=\"/blog/\">\n      <div className=\"App\">\n        <Nav />\n        <Route exact path=\"/login\">\n          {Object.keys(user).length > 0 || authToken ? <Redirect to=\"/\" /> : <Login />}\n        </Route>\n        <Route exact path=\"/registration\">\n          {Object.keys(user).length > 0 || authToken ? <Redirect to=\"/\" /> : <Registration />}\n        </Route>\n        <Route exact path=\"/\">\n          <MainPage />\n        </Route>\n        <Route exact path=\"/add\">\n          {Object.keys(user).length > 0 || authToken ? (\n            <CreateNewArticle />\n          ) : (\n            <Redirect to=\"/login\" />\n          )}\n        </Route>\n        <Route exact path=\"/articles/:id\">\n          {Object.keys(user).length > 0 || authToken ? <OpenedArticle /> : <Redirect to=\"/login\" />}\n        </Route>\n        <Route exact path=\"/articles/:id/edit\">\n          {Object.keys(user).length > 0 || authToken ? (\n            <CreateNewArticle />\n          ) : (\n            <Redirect to=\"/login\" />\n          )}\n        </Route>\n      </div>\n    </Router>\n  );\n}\n\nApp.propTypes = {\n  user: PropTypes.shape({\n    token: PropTypes.string,\n    username: PropTypes.string,\n  }).isRequired,\n};\nexport default connect(mapStateToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport './styles/index.sass';\nimport reducers from './reducers/rootReducer';\n\nimport App from './App';\n\n// import * as serviceWorker from './serviceWorker';\n\nconst store = createStore(reducers, compose(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}